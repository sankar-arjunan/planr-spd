{"ast":null,"code":"var _jsxFileName = \"/Users/gowrisankara/Desktop/planr/src/components/AuthLogin.jsx\",\n  _s = $RefreshSig$();\nimport { useNavigate } from \"react-router-dom\";\nimport { LoginContainer, Title, Login, PrimaryButton, SecondaryButton } from \"./Utility\";\nimport { useState, useEffect } from \"react\";\nimport { useCookies } from 'react-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AuthLogin() {\n  _s();\n  const navigate = useNavigate();\n  const [cookies, setCookie] = useCookies(['jwt']);\n  const [lform, setLForm] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const handleChanges = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setLForm(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    console.log('Form Data:', lform);\n    try {\n      const response = await fetch('http://localhost:5000/auth/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(lform)\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setCookie('jwt', data.token, {\n          path: '/',\n          maxAge: 3600\n        }); // Store the token\n        navigate(\"/\");\n      } else {\n        console.error(data.message);\n      }\n    } catch (error) {\n      console.error('Error during login:', error);\n    }\n  };\n  useEffect(() => {\n    if (cookies.jwt) {\n      const verifyToken = async () => {\n        const response = await fetch('http://localhost:5000/verify', {\n          method: 'GET',\n          headers: {\n            'Authorization': `Bearer ${cookies.jwt}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        if (response.ok) {\n          navigate(\"/\"); // Redirect if token is valid\n        }\n      };\n      verifyToken();\n    }\n  }, [cookies, navigate]);\n  const styles = {\n    form: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '32px',\n      padding: '20px',\n      maxWidth: '500px'\n    },\n    formGroup: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '5px'\n    },\n    label: {\n      fontSize: '16px',\n      fontWeight: 'bold',\n      textAlign: \"left\"\n    },\n    input: {\n      padding: '10px',\n      border: '1px solid #ddd',\n      borderRadius: '4px',\n      fontSize: '16px'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minWidth: \"1080px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(LoginContainer, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"PLAN-R\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"An Intelligent activity planner and tracker\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Login, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            alignSelf: \"center\"\n          },\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          style: styles.form,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              style: styles.label,\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              id: \"email\",\n              name: \"email\",\n              value: lform.email,\n              onChange: handleChanges,\n              style: styles.input\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              style: styles.label,\n              children: \"Password:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"password\",\n              name: \"password\",\n              value: lform.password,\n              onChange: handleChanges,\n              style: styles.input\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(PrimaryButton, {\n            type: \"submit\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(SecondaryButton, {\n            onClick: () => navigate(\"/forgot-password\"),\n            children: \"Forgot Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(SecondaryButton, {\n            onClick: () => navigate(\"/signup\"),\n            children: \"Create new Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 9\n  }, this);\n}\n_s(AuthLogin, \"eivnW9BnG99CFIrbr6u7ChuHgJI=\", false, function () {\n  return [useNavigate, useCookies];\n});\n_c = AuthLogin;\nexport default AuthLogin;\nvar _c;\n$RefreshReg$(_c, \"AuthLogin\");","map":{"version":3,"names":["useNavigate","LoginContainer","Title","Login","PrimaryButton","SecondaryButton","useState","useEffect","useCookies","jsxDEV","_jsxDEV","AuthLogin","_s","navigate","cookies","setCookie","lform","setLForm","email","password","handleChanges","e","name","value","target","prevData","handleSubmit","preventDefault","console","log","response","fetch","method","headers","body","JSON","stringify","data","json","ok","token","path","maxAge","error","message","jwt","verifyToken","styles","form","display","flexDirection","gap","padding","maxWidth","formGroup","label","fontSize","fontWeight","textAlign","input","border","borderRadius","style","minWidth","children","fileName","_jsxFileName","lineNumber","columnNumber","alignSelf","onSubmit","htmlFor","type","id","onChange","onClick","_c","$RefreshReg$"],"sources":["/Users/gowrisankara/Desktop/planr/src/components/AuthLogin.jsx"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\nimport { LoginContainer, Title, Login, PrimaryButton, SecondaryButton } from \"./Utility\";\nimport { useState, useEffect } from \"react\";\nimport { useCookies } from 'react-cookie';\n\nfunction AuthLogin() {\n    const navigate = useNavigate();\n    const [cookies, setCookie] = useCookies(['jwt']);\n    \n    const [lform, setLForm] = useState({\n        email: \"\",\n        password: \"\"\n    });\n\n    const handleChanges = (e) => {\n        const { name, value } = e.target;\n        setLForm((prevData) => ({\n            ...prevData,\n            [name]: value,\n        }));\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        console.log('Form Data:', lform);\n\n        try {\n            const response = await fetch('http://localhost:5000/auth/login', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(lform),\n            });\n\n            const data = await response.json();\n\n            if (response.ok) {\n                setCookie('jwt', data.token, { path: '/', maxAge: 3600 }); // Store the token\n                navigate(\"/\");\n            } else {\n                console.error(data.message);\n            }\n        } catch (error) {\n            console.error('Error during login:', error);\n        }\n    };\n\n    useEffect(() => {\n        if (cookies.jwt) {\n            const verifyToken = async () => {\n                const response = await fetch('http://localhost:5000/verify', {\n                    method: 'GET',\n                    headers: {\n                        'Authorization': `Bearer ${cookies.jwt}`,\n                        'Content-Type': 'application/json'\n                    }\n                });\n\n                if (response.ok) {\n                    navigate(\"/\"); // Redirect if token is valid\n                }\n            };\n\n            verifyToken();\n        }\n    }, [cookies, navigate]);\n\n    const styles = {\n        form: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '32px',\n            padding: '20px',\n            maxWidth: '500px'\n        },\n        formGroup: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '5px',\n        },\n        label: {\n            fontSize: '16px',\n            fontWeight: 'bold',\n            textAlign: \"left\"\n        },\n        input: {\n            padding: '10px',\n            border: '1px solid #ddd',\n            borderRadius: '4px',\n            fontSize: '16px',\n        },\n    };\n\n    return (\n        <div style={{ minWidth: \"1080px\" }}>\n            <LoginContainer>\n                <Title>\n                    <h1>PLAN-R</h1>\n                    <p>An Intelligent activity planner and tracker</p>\n                </Title>\n                <Login>\n                    <h2 style={{ alignSelf: \"center\" }}>Login</h2>\n                    <form onSubmit={handleSubmit} style={styles.form}>\n                        <div style={styles.formGroup}>\n                            <label htmlFor=\"email\" style={styles.label}>Email:</label>\n                            <input\n                                type=\"email\"\n                                id=\"email\"\n                                name=\"email\"\n                                value={lform.email}\n                                onChange={handleChanges}\n                                style={styles.input}\n                            />\n                        </div>\n                        <div style={styles.formGroup}>\n                            <label htmlFor=\"password\" style={styles.label}>Password:</label>\n                            <input\n                                type=\"password\"\n                                id=\"password\"\n                                name=\"password\"\n                                value={lform.password}\n                                onChange={handleChanges}\n                                style={styles.input}\n                            />\n                        </div>\n                        <PrimaryButton type=\"submit\">Login</PrimaryButton>\n                        <SecondaryButton onClick={() => navigate(\"/forgot-password\")}>Forgot Password</SecondaryButton>\n                        <SecondaryButton onClick={() => navigate(\"/signup\")}>Create new Account</SecondaryButton>\n                    </form>\n                </Login>\n            </LoginContainer>\n        </div>\n    );\n}\n\nexport default AuthLogin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}